<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PRIMED ADMIN PANEL</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

<style>
body{
  font-family:Roboto,sans-serif;
  background:linear-gradient(180deg,#eef3f9,#f9fbfd);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  margin:0;
}
.container{
  background:#fff;
  padding:26px;
  border-radius:14px;
  width:95%;
  max-width:480px;
  box-shadow:0 8px 28px rgba(0,0,0,.15);
  text-align:center;
}
.logos{
  display:flex;
  justify-content:center;
  gap:14px;
}
.logos img{width:75px}

h2{
  margin:10px 0 4px;
  color:#0d6efd;
  font-size:20px;
  font-weight:700;
  text-transform:uppercase;
}

input,select,button{
  width:90%;
  padding:10px;
  margin-bottom:10px;
  border-radius:8px;
  border:1px solid #ccc;
}

button{
  cursor:pointer;
}

.primary{background:#0d6efd;color:#fff}
.update{background:#198754;color:#fff}
.delete{background:#dc3545;color:#fff}

#status{
  margin-top:12px;
  font-size:14px;
  text-align:left;
  background:#f3f6fb;
  padding:12px;
  border-radius:10px;
}
</style>
</head>
<body>
<div class="container">

<div class="logos">
  <img src="https://raw.githubusercontent.com/PRIMED-RRM/primedrrmverifier/refs/heads/main/PRIMED%20Logo%201.png">
  <img src="https://raw.githubusercontent.com/PRIMED-RRM/primedrrmverifier/refs/heads/main/BackgroundEraser_20251102_093006990.png">
</div>

<h2>ADMIN PANEL</h2>

<input type="text" id="name" placeholder="Full Name">
<input type="text" id="certificate" placeholder="Certificate Number">
<select id="training">
  <option value="STOP THE BLEED">Stop The Bleed</option>
  <option value="Standard First Aid">SFAT</option>
  <option value="Basic First Aid">BFAT</option>
  <option value="Basic Life Support">BLS</option>
  <option value="CPR">CPR</option>
  <option value="Basic Fire Safety Seminar">Basic Fire Safety Seminar</option>
  <option value="Introduction to DRRM">Introduction to DRRM</option>
  <option value="Earthquake Preparedness Seminar">Earthquake Preparedness Seminar</option>
</select>
<input type="text" id="venue" placeholder="Training Venue">
<input type="date" id="date">

<div>
  <button class="primary" onclick="addTrainee()">Add Trainee</button>
  <button class="update" onclick="updateTrainee()">Update Trainee</button>
  <button class="delete" onclick="deleteTrainee()">Delete Trainee</button>
</div>

<div id="status"></div>

<footer style="margin-top:14px; font-size:12px; color:#666;">This admin panel is connected to PRIMED records only</footer>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbwjH17flRqgdL5UfTx6EXCBDbdselynyt3aUmLfYVJl1aobBKtQbmdFoP7a6HlVMtKOtA/exec";

function postAction(action, body){
  body.action = action;
  fetch(API_URL,{
    method:"POST",
    body:JSON.stringify(body)
  }).then(r=>r.json()).then(d=>{
    document.getElementById("status").innerHTML = JSON.stringify(d);
  }).catch(()=>document.getElementById("status").innerHTML="SERVER ERROR ‚ùå");
}

function addTrainee(){
  const body={
    name:document.getElementById("name").value,
    certificate:document.getElementById("certificate").value,
    training:document.getElementById("training").value,
    venue:document.getElementById("venue").value,
    date:document.getElementById("date").value
  };
  postAction("add", body);
}

function updateTrainee(){
  const oldCert = prompt("Enter old certificate number to update:");
  if(!oldCert) return;
  const body={
    oldCertificate:oldCert,
    name:document.getElementById("name").value,
    certificate:document.getElementById("certificate").value,
    training:document.getElementById("training").value,
    venue:document.getElementById("venue").value,
    date:document.getElementById("date").value
  };
  postAction("update", body);
}

function deleteTrainee(){
  const cert = prompt("Enter certificate number to delete:");
  if(!cert) return;
  postAction("delete",{certificate:cert});
}
</script>
</div>
</body>
</html>
